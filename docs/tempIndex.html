<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>For You</title>
    <style>
      body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #1d2b64, #f8cdda);
        font-family: Georgia, serif;
        color: white;
        text-align: center;
        overflow: hidden;
      }
      /* MAIN TEXT */
      .card {
        max-width: 600px;
        padding: 25px;
      }
      h1 {
        font-weight: normal;
        font-size: 40px;
        margin-bottom: 20px;
      }
      p {
        font-size: 20px;
        line-height: 1.6;
      }
      /* BUTTERFLY BUTTON */
      #butterfly {
        position: fixed;
        left: 50%;
        top: 20%;
        transform: translate(-50%, -50%);
        font-size: 128px;
        cursor: pointer;
        z-index: 10;
        filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.18));
        animation: float 5s ease-in-out infinite;
      }
      @keyframes float {
        0%,
        100% {
          transform: translate(-50%, -50%);
        }
        50% {
          transform: translate(-50%, calc(-50% - 20px));
        }
      }
      /* TAP TEXT */
      #tap {
        position: fixed;
        top: calc(80% + 60px);
        left: 50%;
        transform: translateX(-50%);
        font-size: 14px;
        letter-spacing: 3px;
        opacity: 0.6;
        z-index: 10;
      }
      #ear {
        position: fixed;
        top: calc(78% + 60px);
        left: 50%;
        transform: translateX(-50%);
        font-size: 14px;
        letter-spacing: 3px;
        opacity: 0.6;
        z-index: 10;
      }
      /* NIGHT OVERLAY */
      #night {
        position: fixed;
        inset: 0;
        background: rgba(10, 10, 15, 0.88);
        backdrop-filter: blur(6px);
        opacity: 0;
        transition: 2s;
        z-index: 20;
      }
      /* MOON */
      #moon {
        position: fixed;
        top: 60px;
        right: 70px;
        width: 110px;
        height: 110px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, #fff, #ddd 40%, #aaa 65%, #777 100%);
        box-shadow: 0 0 40px rgba(255, 255, 255, 0.25);
        opacity: 0;
        transition: 2s;
        z-index: 21;
      }
      /* STARS */
      .star {
        position: fixed;
        width: 2px;
        height: 2px;
        background: white;
        opacity: 0;
        animation: twinkle 3s infinite alternate;
        z-index: 21;
      }
      @keyframes twinkle {
        from {
          opacity: 0.2;
        }
        to {
          opacity: 1;
        }
      }
      /* BOOK */
      .book {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.85);
        width: 240px;
        height: 360px;
        perspective: 1200px;
        opacity: 0;
        transition: 1.5s;
        z-index: 25;
      }
      .book.show {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
      .page {
        position: absolute;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.08);
        backdrop-filter: blur(14px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 25px;
        box-sizing: border-box;
        color: white;
        font-family: Georgia, serif;
        transform-style: preserve-3d;
        transform-origin: left center;
        transform: rotateY(0deg);
        transition: transform 0.8s ease;
        backface-visibility: hidden;
      }
      /* cover style */
      .cover {
        background: linear-gradient(135deg, #4a2f1d, #2a1a12);
        color: #f5e6c8;
        font-size: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        letter-spacing: 1px;
        box-shadow:
          0 10px 30px rgba(0, 0, 0, 0.45),
          inset -6px 0 12px rgba(0, 0, 0, 0.25);
      }
      /* flipped page */
      .flipped {
        transform: rotateY(-165deg);
      }
      .show {
        opacity: 1 !important;
        transform: translate(-50%, -50%) scale(1) !important;
      }
      /* Instagram like page nav */
      #navigation {
        position: fixed;
        top: 0;
        left: 0;
        width: 100svw;
        height: 100svh;
        display: flex;
        z-index: 100;
      }
      #navigation > button {
        width: 50%;
        background-color: transparent;
        border: 0px;
      }
    </style>
  </head>

  <body>
    <div class="card" id="startingStage">
      <h1>For Someone Special</h1>

      <p>
        Some souls are like butterflies —<br />
        soft, rare, and impossible to hold,<br />
        yet beautiful enough<br />
        to make silence feel like a song.
      </p>

      <p>
        May your day be as gentle as your heart<br />
        and as bright as the light you carry within.
      </p>

      <p style="margin-top: 30px; font-size: 16px; opacity: 0.8">
        — Someone who still prays for your smile
      </p>
    </div>

    <div id="butterfly">
      <svg viewBox="0 0 200 200" width="150" height="150">
        <defs>
          <linearGradient id="wingGrad" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#ffffff" />
            <stop offset="100%" stop-color="#cfc9ff" />
          </linearGradient>
        </defs>

        <!-- left wing -->
        <path
          d="M100 100
C40 40 20 140 95 155
C70 120 75 80 100 100Z"
          fill="url(#wingGrad)"
          opacity=".95"
        />

        <!-- right wing -->
        <path
          d="M100 100
C160 40 180 140 105 155
C130 120 125 80 100 100Z"
          fill="url(#wingGrad)"
          opacity=".95"
        />

        <!-- body -->
        <line
          x1="100"
          y1="85"
          x2="100"
          y2="155"
          stroke="white"
          stroke-width="2"
          stroke-linecap="round"
        />

        <!-- antennae -->
        <path d="M100 85 C90 65 70 60 65 75" stroke="white" stroke-width="1.2" fill="none" />
        <path d="M100 85 C110 65 130 60 135 75" stroke="white" stroke-width="1.2" fill="none" />
      </svg>
    </div>

    <div id="tap">tap</div>
    <div id="ear">earphones recommended</div>
    <div id="navigation"><button id="prevButton"></button><button id="nextButton"></button></div>
    <div id="night"></div>
    <div id="moon"></div>

    <div id="book" class="book">
      <!-- COVER -->
      <div class="page cover">For THE<br />سمرا عسکری</div>

      <!-- PAGE 1 -->
      <div class="page">
        Some wishes are not spoken aloud.<br /><br />
        They remain folded quietly<br />
        between moments.
      </div>

      <!-- PAGE 2 -->
      <div class="page">
        Not every celebration needs presence.<br /><br />
        Some arrive as silence…<br />
        and still mean everything.
      </div>

      <!-- PAGE 3 -->
      <div class="page">
        A quiet wish was made for you today.<br /><br />
        Not sent.<br />
        Still sincere.
      </div>
    </div>

    <audio id="bgMusic" preload="auto">
      <source
        src="https://raw.githubusercontent.com/anausha81-debug/audio/main/Don_t_overthink._Choose_one._Trust_it._256KBPS.mp3"
        type="audio/mpeg"
      />
    </audio>

    <script>
      let started = false;
      let pageIndex = 0;
      let pages = null;
      window.addEventListener('load', () => {
        pages = document.querySelectorAll('.book .page');
        pages.forEach((p, i) => {
          p.style.zIndex = pages.length - i;
        });
      });

      document.getElementById('nextButton').addEventListener('click', handlePush);
      document.getElementById('prevButton').addEventListener('click', handlePop);
      function handlePush() {
        if (!started) {
          startScene();
          started = true;
          return;
        }
        if (pageIndex === 0) {
          pages[0].classList.add('flipped');
          pageIndex++;
          return;
        }

        if (pageIndex < pages.length && pageIndex != pages.length - 1) {
          pages[pageIndex].classList.add('flipped');
          pages[pageIndex].style.zIndex = pageIndex;
          pageIndex++;
        }
      }

      function handlePop() {
        if (!started) {
          startScene();
          started = true;
          return;
        }
        console.log();
        if (pageIndex > 0) {
          pageIndex--;
          pages[pageIndex].classList.remove('flipped');
          // Restore z-index when flipping back
          pages[pageIndex].style.zIndex = pages.length - pageIndex;
        }
      }

      function startScene() {
        let music = document.getElementById('bgMusic');
        music.volume = 0.4;
        music.play();

        document.getElementById('butterfly').style.display = 'none';
        document.getElementById('tap').style.display = 'none';
        document.getElementById('startingStage').style.display = 'none';
        setTimeout(() => (document.getElementById('night').style.opacity = 1), 300);

        setTimeout(() => (document.getElementById('moon').style.opacity = 1), 1300);

        setTimeout(() => {
          for (let i = 0; i < 40; i++) {
            let s = document.createElement('div');
            s.className = 'star';
            s.style.top = Math.random() * 100 + '%';
            s.style.left = Math.random() * 100 + '%';
            s.style.animationDelay = Math.random() * 3 + 's';
            document.body.appendChild(s);
            setTimeout(() => (s.style.opacity = 1), 50);
          }
        }, 1500);

        setTimeout(() => {
          document.getElementById('book').classList.add('show');
        }, 2200);
      }

      /* PAGE FLIP LOGIC - NO NEED

      function flipPage() {
        let pages = document.querySelectorAll('.book .page');

        pages.forEach((p, i) => {
          p.style.zIndex = pages.length - i;
        });

        if (pageIndex < pages.length) {
          pages[pageIndex].classList.add('flipped');
          pageIndex++;
        }
      }*/
    </script>
  </body>
</html>
